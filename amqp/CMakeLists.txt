
project(fty-messagebus2-amqp
  VERSION 1.0.0
  DESCRIPTION "fty messagebus2 amqp library"
)

etn_target(shared ${PROJECT_NAME} PUBLIC
  SOURCES
    src/*.cpp
    src/*.h
  PUBLIC_INCLUDE_DIR
    public_include
  PUBLIC_HEADERS
    fty/messagebus2/amqp/MessageBusAmqp.h
  USES_PUBLIC
    fty-messagebus2
  USES_PRIVATE
    fty-messagebus2-utils
    fty_common_logging
    qpidmessaging
    qpidtypes
  FLAGS
    "-fmax-errors=1"
)

set_target_properties(${PROJECT_NAME} PROPERTIES SOVERSION ${PROJECT_VERSION_MAJOR})

## Tests
if(BUILD_TESTING)
  etn_test_target(${PROJECT_NAME}
    SOURCES
      tests/*.cpp
)
endif()
